#:kivy 1.9.0

<TimeButton@Button>:
	text_size: self.size
	font_size: 20
	size_hint: None, None
	height: 30
	width: 40
	halign: 'center'
	valign: 'middle'
	background_color: 1.9,1.9,1.9,1
	color: 0,0,0,1

<Settings>:
	timeButton: timeButton
	dropDown: dropDown
	continueButton: continueButton
	instantlyButton: instantlyButton
	intervalButton: intervalButton
	instantlyText: instantlyText
	instantlyTextBg: instantlyTextBg
	sidewaysButton: sidewaysButton

	FloatLayout:
		canvas.before:
			Color:
				rgba: 0.949, 0.961, 0.976, 1
			Rectangle:
				size: self.size
				pos: self.pos

		Label:
			text_size: self.size
			font_size: 20
			size_hint: None, None
			height: 80
			width: 600
			pos: 50, 300
			halign: 'left'
			valign: 'bottom'
			color: 0,0,0,1
			text: "Notification interval:"

		TimeButton:
			id: timeButton
			pos: 240, 295
			text: "5"
			background_color: 1.5,1.5,1.5,1

		DropDown:
			id: dropDown
			attach_to: timeButton
			pos: 240, 205
			TimeButton:
				text: "5"
				on_release: root.setTime(self.text)
			TimeButton:
				text: "10"
				on_release: root.setTime(self.text)
			TimeButton:
				text: "15"
				on_release: root.setTime(self.text)
	
		FloatLayout:
			id: instantlyTextBg
			color: 0.949, 0.961, 0.976, 1
			canvas.before:
				Color:
					rgba: instantlyTextBg.color
				Rectangle:
					size: self.size
					pos: self.pos
			Label:
				id: instantlyText
				text_size: self.size
				font_size: 20
				size_hint: None, None
				height: 80
				width: 600
				pos: 50, 300
				halign: 'left'
				valign: 'bottom'
				color: 0,0,0,1
				text: "The program will take pictures every 10 seconds and notify you instantly if your posture is bad."

		Label:
			text_size: self.size
			font_size: 20
			size_hint: None, None
			height: 80
			width: 600
			pos: 50, 400
			halign: 'left'
			valign: 'bottom'
			color: 0,0,0,1
			text: "Send me notifications..."

		ToggleButton:
			id: instantlyButton
			size_hint: None, None
			size: 100, 50
			pos: 270, 390
			text: "Instantly"
			text_size: self.size
			font_size: 18
			valign: 'middle'
			halign: 'center'
			group: 'notificationSetting'
			state: 'down'

		ToggleButton:
			id: intervalButton
			size_hint: None, None
			size: 100, 50
			pos: 380, 390
			text: "After a few minutes"
			text_size: self.size
			font_size: 18
			valign: 'middle'
			halign: 'center'
			group: 'notificationSetting'

		Label:
			text_size: self.size
			font_size: 20
			size_hint: None, None
			height: 50
			width: 350
			pos: 50, 190
			halign: 'left'
			valign: 'bottom'
			color: 0,0,0,1		
			text: "Pay attention to sideways movement:"

		ToggleButton:
			id: sidewaysButton
			pos: 400, 180
			size_hint: None, None
			height: 40
			width: 60
			text_size: self.size
			halign: 'center'
			valign: 'middle'
			text: "Yes"
			font_size: 20
			group: 'sidewaysButtons'
			state: 'down'

		ToggleButton:
			pos: 480, 180
			size_hint: None, None
			height: 40
			width: 60
			text_size: self.size
			halign: 'center'
			valign: 'middle'
			text: "No"
			font_size: 20
			group: 'sidewaysButtons'

		Button:
			id: continueButton
			font_size: 20
			text_size: self.size
			text: "Save settings"
			color: 0,0,0,1
			halign: 'center'
			valign: 'middle'
			background_color: 1.9,1.9,1.9,1
			size_x: 100
			size_y: 60
			size_hint: None, None
			size: self.size_x,self.size_y
			pos: root.width / 2 - self.size[0] / 2, 40

<TakePhoto>:
	image: img
	button: button
	
	FloatLayout:
		Image:
			id: img
			source: "1.png"
			allow_stretch: True
			size: root.width,root.height
			color: 0,0,0,1
	
		Button:
			id: button
			font_size: 20
			text_size: self.size
			text: "Take comparison picture"
			color: 1,1,1,1
			disabled_color: 1,1,1,0.5
			halign: 'center'
			valign: 'middle'
			background_color: 0.9,0.9,0.9,1
			size_x: 200
			size_y: 60
			size_hint: None, None
			size: self.size_x,self.size_y
			pos: root.width/2 - self.size_x/2, 20
		
<PostureTracking>:
	image: img
	settingButton: settingButton
	photoButton: photoButton

	FloatLayout:
		Image:
			id: img
			source: "textures/good.png"
			allow_stretch: True
			size: root.width, root.height
			color: 1,1,1,1
		
		Button:
			id: settingButton
			font_size: 20
			text_size: self.size
			text: "Settings"
			color: 1,1,1,1
			background_color: 0.9,0.9,0.9,1
			size_x: 200
			size_y: 60
			size_hint: None, None
			size: self.size_x, self.size_y
			pos: root.width/2 - self.size_x * 1.1, 20
			halign: 'center'
			valign: 'middle'

		Button:
			id: photoButton
			font_size: 20
			text_size: self.size
			text: "Take new photo"
			color: 1,1,1,1
			background_color: 0.9,0.9,0.9,1
			size_x: 200
			size_y: 60
			size_hint: None, None
			size: self.size_x, self.size_y
			pos: root.width/2 + self.size_x * 0.1, 20
			halign: 'center'
			valign: 'middle'
